<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>一位老师，一位领导，一个让全体学生考上目标学校的故事 | 夕小瑶的科技屋</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="本文摘要：其实，这是关于Adaboost的一个故事。。。">
<meta property="og:type" content="article">
<meta property="og:title" content="一位老师，一位领导，一个让全体学生考上目标学校的故事">
<meta property="og:url" content="http://xixiaoyao.github.io/2017/04/03/ateacher/index.html">
<meta property="og:site_name" content="夕小瑶的科技屋">
<meta property="og:description" content="本文摘要：其实，这是关于Adaboost的一个故事。。。">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/006tNbRwly1fe9xd8370dj30va01kaa3.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/006tNbRwly1fe9xd8370dj30va01kaa3.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/006tNbRwly1fe9xd8370dj30va01kaa3.jpg">
<meta property="og:updated_time" content="2017-04-03T16:54:19.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一位老师，一位领导，一个让全体学生考上目标学校的故事">
<meta name="twitter:description" content="本文摘要：其实，这是关于Adaboost的一个故事。。。">
<meta name="twitter:image" content="https://ww1.sinaimg.cn/large/006tNbRwly1fe9xd8370dj30va01kaa3.jpg">
  
    <link rel="alternate" href="/atom.xml" title="夕小瑶的科技屋" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  

</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">夕小瑶的科技屋</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://xixiaoyao.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-ateacher" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/03/ateacher/" class="article-date">
  <time datetime="2017-04-03T14:32:21.000Z" itemprop="datePublished">2017-04-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/人工智能/">人工智能</a>►<a class="article-category-link" href="/categories/人工智能/机器学习/">机器学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      一位老师，一位领导，一个让全体学生考上目标学校的故事
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文摘要：<br>其实，这是关于Adaboost的一个故事。。。</p>
<a id="more"></a>
<hr>
<p><strong>声明：</strong>用于个人学习的转载无需告知，<strong>但请务必在文首注明出处！</strong>微信公众号、微博等平台的<strong>商业转载</strong>请务必联系本文作者<a href="https://xixiaoyao.github.io/about/">夕小瑶</a>。</p>
<hr>
<p>今天，小夕给大家讲一个故事…</p>
<p><img src="https://ww1.sinaimg.cn/large/006tNbRwly1fe9xd8370dj30va01kaa3.jpg" alt=""></p>
<p>从前，有座山… </p>
<p>山里，有座学校…</p>
<p>学校里，有一位老师，一位领导，还有五只可爱的小仙(学)女(生)。 </p>
<p>这5个学生的名字是：<strong>小兔，小青，小路，小音，小夕</strong>。她们的高考目标依次为<strong>清华、清华、清华、清华、浙大</strong>。但是不管她们的目标如何，在家长的逼迫下：</p>
<ol>
<li>假设过了浙大的线，但是没过清华的线，那就上浙大。（所以想考清华的学生会很难过）</li>
<li>假设如果过了清华的线，那么就必须要上清华，哪怕目标是浙大，也不能报。（所以想考浙大的学生会很难过）</li>
</ol>
<p>然而老师的培养目标呢，并不是让所有的学生都上清华，而是让每个学生都达成她们心中的目标！想上浙大的学生，就不能考的太高，以免上了清华。想上清华的学生，就要考的足够高，以免上了浙大。 </p>
<p> <strong>1. </strong>这个老师很奇怪，他每天会制定一个精力分配计划表，比如老师每天都有100份精力，他要给各个学生分配精力。开学第一天，由于他对这些学生都不熟悉，于是他给这5个学生平均分配精力，即每人都能得到20份精力。</p>
<p> <strong>2. </strong>这个老师白天怎么上课呢？他会重点关注和培养今天的精力分配计划中那些精力分配很多的学生。他这一天，会讲很多次课，每节课结束的时候呢，都会安排一个随堂考试。并且根据这场考试后各个学生的成绩单，来评价一下这场考试的<strong>成功率</strong>。 </p>
<p> <strong>2. </strong>但是注意啊，怎么衡量这个考试成不成功呢？重点来啦，这个老师很奇葩！他主要是看<strong>今天重点关注的学生</strong>能不能考上目标学校！比如今天老师的100份精力中，92份给了小夕，剩下的8份平分给了小兔等4人。那么！今天！只要小夕能达成目标（即恰好考上浙大），那么其他4人都没有达成目标也没事(￣∇￣)，这时的考试成功率是92%。但是如果这场考试中小夕没有达成目标（即不小心考上了清华），其他4人都达成了目标（即考上了清华），就认为这场考试的成功率只有8%！（我仿佛听到有人说这个老师是不是智障…）</p>
<p> <strong>2. </strong>然后呢，按照上面讲的这么不公平的考试结果评价准则，选出今天考的最成功的一场！然后将这一场考试作为今天最终的考试结果，并且彻底忽略掉今天的其他考试。并将这场考试的<strong>考试卷</strong>和<strong>成功率</strong>连夜汇报给上级。 </p>
<p> <strong>3. </strong>上级是一个夜猫子，而且秉公执法却不做复查的人。于是，他会在明天到来之前，根据今天老师递交的考试结果中的成功率，来给这场考试的考试卷打个<strong>分数</strong>。日后拿出这张考试卷时，看到打的这个分，就知道这场考试卷的含金量是多少啦。</p>
<p> <strong>4. </strong>老师也不敢睡觉，连夜等待上级给这场考试打的分数。等来上级打的这个分数后，老师赶紧拿着这个<strong>分数</strong>和<strong>今天的精力分配计划表</strong>来制定<strong>明天的精力分配计划表</strong>。 </p>
<p> <strong>4. </strong>怎么制定呢？上级打的分数决定了精力分配计划表的变动大小，如果上级给打了0分，就意味着计划表不要变动了。上级给打的分数越高，明天的计划表就要改动越大。那么怎么改呢？这时，老师终于开始考虑全体学生了，老师会将今天这场考试中达成目标的学生的精力分配减少（比如今天在小夕身上分配92份精力，小夕达成了目标，那么根据上级的打分，明天分配的精力要降低20%，所以明天给小夕的精力<strong>暂时</strong>记为92<em>(1-0.2)=73.6。），将今天这场考试中未达成目标的学生的精力分配增加（比如今天在小兔身上分配2份精力，那么根据上级的打分，明天分配的精力要增加20%，所以明天给小兔的精力暂时记为2</em>(1+0.2)=2.4。）。</p>
<p> <strong>4. </strong>然后都算完后，发现明天给各个学生的精力之和不等于100了，那就归一化一下，保证精力之和是100。</p>
<p> <strong>5. </strong>于是，明天又是崭新的一天。。。除了精力分配计划表改变了以外，其他并没有影响，完全重复前面的过程。</p>
<p> <strong>5. </strong>就这样过了很多很多天。。。 </p>
<p> <strong>6. </strong>什么时候结束呢？</p>
<p> <strong>6. </strong>那就是根据上级对每天的每场考试的打分，来累加每个学生在前面每天的考试结果啦（即加权的考试结果，对于上级打分低的考试，考试结果就不太重要；对于上级打分高的考试，考试结果就很重要）</p>
<p> <strong>6. </strong>如果有一天，累加每个学生的考试结果后发现，诶？所有学生的<strong>累计</strong>考试结果全都达成了目标！！！即累加起来后，发现学生全都考上了目标学校！！！好了，你们毕业惹~</p>
<p> <strong>7. </strong>这时，又跑过来一个没有考试目标的学生，叫小好，她问老师，“老师老师，你说我将来会上清华还是浙大呢？”</p>
<p> <strong>7. </strong>老师：“很简单，你去把这一摞卷子全都做一遍，这是我们的往日考试卷。然后你全做完后，我给你按照上级以前对每张卷子含金量的打分，给你累加一下，得到最终的考试结果。这个最终的考试结果就代表了你将来会上的学校。”</p>
<p><img src="https://ww1.sinaimg.cn/large/006tNbRwly1fe9xd8370dj30va01kaa3.jpg" alt=""></p>
<p> 是的，上面的过程，就是机器学习的AdaBoost算法/分类器。包括了Adaboost的训练过程和分类过程。</p>
<p> Adaboost是集成机器学习中的典型算法，是Boosting思想的一个具体实现。通过训练并组合很多弱分类器，来加权决定分类结果。</p>
<p> 怎么把上面的故事转成Adaboost算法呢？完成下面的概念替换：</p>
<p> 下面映射的是算法中的实体（变量） </p>
<ul>
<li>每个有目标的学生 -&gt; 一个训练样本$x_{train}$</li>
</ul>
<ul>
<li>没有考试目标的学生 -&gt; 待分类样本$x_{test}$</li>
</ul>
<ul>
<li>清华、浙大 -&gt; 本任务的两个类别</li>
</ul>
<ul>
<li>每天的精力分配计划表 -&gt; 每轮迭代的样本权重向量D</li>
</ul>
<ul>
<li>每天选出的成功率最高的考试卷 -&gt; 每轮迭代产生的弱分类器</li>
</ul>
<ul>
<li>老师计算的每场考试的成功率 -&gt; 训练样本集的加权错误率</li>
</ul>
<ul>
<li>上级领导给每个考试卷打的分数 -&gt; 每个弱分类器的决策权重$\alpha$</li>
</ul>
<ul>
<li>经过的天数 -&gt; 弱分类器的数量</li>
</ul>
<p> 下面映射的是算法中的过程（与故事中每一段前面的序号完全对应）</p>
<ul>
<li><ol>
<li>开学第一天，平均分配精力给每个学生 -&gt; 样本权重向量D的初始化</li>
</ol>
</li>
<li><ol>
<li>每一天的教学、随堂考试、选出成功率最高的考试过程 -&gt; 本轮迭代中训练弱分类器的过程</li>
</ol>
</li>
<li><ol>
<li>上级领导给考试卷打分的过程 -&gt; 计算当前这个弱分类器的决策权重$\alpha$</li>
</ol>
</li>
<li><ol>
<li>老师制作明天的精力分配计划表 -&gt; 计算下一轮迭代时的样本权重向量D</li>
</ol>
</li>
<li><ol>
<li>一天天的过去 -&gt; 不断重复上述步骤2-4.</li>
</ol>
</li>
<li><ol>
<li>所有学生累计考试结果全都达成目标 -&gt; Adaboost模型收敛，完成训练。    </li>
</ol>
</li>
<li><ol>
<li>给没目标的小好预测学校 -&gt; 利用训练好的Adaboost分类器预测待分类样本的类别。</li>
</ol>
</li>
</ul>
<p>听说，写Adaboost的代码的时候，在注释中把小夕讲的这个故事写出来就不会出错了…</p>
<p><img src="https://ww1.sinaimg.cn/large/006tNbRwly1fe9xd8370dj30va01kaa3.jpg" alt=""></p>
<p>最后，请手机/电脑/IPAD/投影仪屏幕前正在带学生的老师，请勿模仿本文</p>
<p> (￣∇￣)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xixiaoyao.github.io/2017/04/03/ateacher/" data-id="cj12f087m0000334arxm160t4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Adaboost/">Adaboost</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/机器学习/">机器学习</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2017/03/31/sigmoid-and-softmax/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">深入深出Sigmoid与Softmax的血缘关系</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/人工智能/">人工智能</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/人工智能/机器学习/">机器学习</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Adaboost/">Adaboost</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sigmoid/">sigmoid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/softmax/">softmax</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/逻辑回归/">逻辑回归</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Adaboost/" style="font-size: 10px;">Adaboost</a> <a href="/tags/sigmoid/" style="font-size: 10px;">sigmoid</a> <a href="/tags/softmax/" style="font-size: 10px;">softmax</a> <a href="/tags/机器学习/" style="font-size: 20px;">机器学习</a> <a href="/tags/逻辑回归/" style="font-size: 10px;">逻辑回归</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/04/03/ateacher/">一位老师，一位领导，一个让全体学生考上目标学校的故事</a>
          </li>
        
          <li>
            <a href="/2017/03/31/sigmoid-and-softmax/">深入深出Sigmoid与Softmax的血缘关系</a>
          </li>
        
          <li>
            <a href="/2017/03/31/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Xiaoyao Xi<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>